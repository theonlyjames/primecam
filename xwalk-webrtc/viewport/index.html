<!DOCTYPE html>
<html>
    <head>
        <meta name="viewport"
              content="width=device-width, initial-scale=1.0, user-scalable=no">
        <meta charset="utf-8">
        <title>Viewport Client</title>

        <style>
        #credentials, #form, #video, #dialler, #messages {
            clear: both;
        }
        #form.hide {
            display: none;
        }
        #remote-video {
            width: 100vw;
        }
        #local-video {
            display: none;
            max-width: 150px;
        }
        #remote {
            width: 100vw;
            height: 100vh;
            background: lightblue;
        }
        #local p,
        #local,
        #remote p {
            display: none;
        }

        </style>
    </head>

    <body>

        <div id="form">
            <div id="credentials">
                <p>
                Connect as Viewport:
                <input type="text" id="caller-id" size="15">
                <button id="connect">Connect</button>
                </p>
            </div>

            <div id="dialler" data-active="false">
                <p>
                Make call to:
                <input type="select" id="recipient-id">
                <button id="dial">Call</button>
                </p>
            </div>
            <button id="test">Send Test</button>
            <button id="wstest">WS Test</button>
            <hr>
        </div>

        <div id="video">


            <div id="remote">
                <p><strong>REMOTE:</strong></p>
                <video id="remote-video" autoplay></video>
            </div>


            <div id="local">
                <p><strong>LOCAL:</strong></p>
                <video id="local-video" autoplay></video>
            </div>

        </div>

        <div id="messages">
        </div>

        <script type="text/javascript">
            var remote = document.getElementById("remote");
            var form = document.getElementById("form");
            var wstest = document.getElementById("wstest");
            var formHide = false;
            var ws = new WebSocket('ws://10.195.249.111:1234');

            wstest.onclick = function () {
                ws.send('james was here');
            };
            ws.onopen = function () {
                console.log('ws open');
            };
            remote.onclick = function () {
                if (formHide === false) {
                    form.style.display = "none";
                    formHide = true;
                } else {
                    form.style.display = "block";
                    formHide = false;
                }
            };
        </script>
        <script src="peer.js"></script>
        <script src="main.js"></script>
    </body>
</html>
